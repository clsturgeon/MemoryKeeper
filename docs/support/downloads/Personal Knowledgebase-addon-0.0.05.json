[{"created":"20230810113222368","text":"Personal knowledgebase add-on for Memory Keeper. This adds a journal event type and knowledge note type, and adds a Planner that shows monthly, weekly and daily reminders, appointments, and events. It does not hide any Memory Keeper menu items or tabs.","tags":"$:/tags/mk/addon $:/tags/pk","title":"$:/addon/cls/pk/addon","modified":"20240218012802077","name":"Personal Knowledgebase","tagg":"$:/tags/pk","version":"0.0.05"},{"created":"20231225230418108","text":"(function(){\"use strict\";var Widget=require(\"$:/core/modules/widgets/widget.js\").widget;var widgets;var container;var Calendar=function(parseTreeNode,options){this.initialise(parseTreeNode,options);};Calendar.prototype=new Widget();Calendar.prototype.render=function(parent,nextSibling){this.parentDomNode=parent;this.computeAttributes();this.execute();var domNode=this.document.createElement(\"div\");parent.insertBefore(domNode,nextSibling);domNode.className=this.CalendarCSS;this.renderChildren(domNode,null);this.domNodes.push(domNode);};Calendar.prototype.execute=function(){var thisMonth=this.getAttribute(\"month\",-1);var thisYear=this.getAttribute(\"year\",-1);var thisDayMacro=this.getAttribute(\"day_macro\",\"CalendarListDailyThings\");var thisCalendarCSS=this.getAttribute(\"class\",\"calendar-table\");var badYear;var isLeap=0;var numDays;var calendarString;var thisMonthNum;if(thisYear/1000<1||thisYear===-1||isNaN(parseFloat(thisYear))){badYear=1;}else{badYear=0;}\nif(thisMonth===\"2\"||thisMonth===\"02\"||thisMonth===\"Feb\"||thisMonth===\"Feb.\"||thisMonth===\"February\"){isLeap=((((thisYear%4)===0)&&(thisYear%100!==0))||(((thisYear%100)===0)&&(thisYear%400)===0));}\nswitch(thisMonth){case\"1\":numDays=31;thisMonthNum=1;break;case\"01\":numDays=31;thisMonthNum=1;break;case\"Jan\":numDays=31;thisMonthNum=1;break;case\"Jan.\":numDays=31;thisMonthNum=1;break;case\"January\":numDays=31;thisMonthNum=1;break;case\"2\":numDays=isLeap?29:28;thisMonthNum=2;break;case\"02\":numDays=isLeap?29:28;thisMonthNum=2;break;case\"Feb\":numDays=isLeap?29:28;thisMonthNum=2;break;case\"Feb.\":numDays=isLeap?29:28;thisMonthNum=2;break;case\"February\":numDays=isLeap?29:28;thisMonthNum=2;break;case\"3\":numDays=31;thisMonthNum=3;break;case\"03\":numDays=31;thisMonthNum=3;break;case\"Mar\":numDays=31;thisMonthNum=3;break;case\"Mar.\":numDays=31;thisMonthNum=3;break;case\"March\":numDays=31;thisMonthNum=3;break;case\"4\":numDays=30;thisMonthNum=4;break;case\"04\":numDays=30;thisMonthNum=4;break;case\"Apr\":numDays=30;thisMonthNum=4;break;case\"Apr.\":numDays=30;thisMonthNum=4;break;case\"April\":numDays=30;thisMonthNum=4;break;case\"5\":numDays=31;thisMonthNum=5;break;case\"05\":numDays=31;thisMonthNum=5;break;case\"May\":numDays=31;thisMonthNum=5;break;case\"6\":numDays=30;thisMonthNum=6;break;case\"06\":numDays=30;thisMonthNum=6;break;case\"Jun\":numDays=30;thisMonthNum=6;break;case\"Jun.\":numDays=30;thisMonthNum=6;break;case\"June\":numDays=30;thisMonthNum=6;break;case\"7\":numDays=31;thisMonthNum=7;break;case\"07\":numDays=31;thisMonthNum=7;break;case\"Jul\":numDays=31;thisMonthNum=7;break;case\"Jul.\":numDays=31;thisMonthNum=7;break;case\"July\":numDays=31;thisMonthNum=7;break;case\"8\":numDays=31;thisMonthNum=8;break;case\"08\":numDays=31;thisMonthNum=8;break;case\"Aug\":numDays=31;thisMonthNum=8;break;case\"Aug.\":numDays=31;thisMonthNum=8;break;case\"August\":numDays=31;thisMonthNum=8;break;case\"9\":numDays=30;thisMonthNum=9;break;case\"09\":numDays=30;thisMonthNum=9;break;case\"Sep\":numDays=30;thisMonthNum=9;break;case\"Sep.\":numDays=30;thisMonthNum=9;break;case\"Sept\":numDays=30;thisMonthNum=9;break;case\"Sept.\":numDays=30;thisMonthNum=9;break;case\"September\":numDays=30;thisMonthNum=9;break;case\"10\":numDays=31;thisMonthNum=10;break;case\"Oct\":numDays=31;thisMonthNum=10;break;case\"Oct.\":numDays=31;thisMonthNum=10;break;case\"October\":numDays=31;thisMonthNum=10;break;case\"11\":numDays=30;thisMonthNum=11;break;case\"Nov\":numDays=30;thisMonthNum=11;break;case\"Nov.\":numDays=30;thisMonthNum=11;break;case\"November\":numDays=30;thisMonthNum=11;break;case\"12\":numDays=31;thisMonthNum=12;break;case\"Dec\":numDays=31;thisMonthNum=12;break;case\"Dec.\":numDays=31;thisMonthNum=12;break;case\"December\":numDays=31;thisMonthNum=12;break;default:numDays=-1;}\nif(badYear===1||numDays===-1){var parser=this.wiki.parseText(\"text/vnd.tiddlywiki\",\"Invalid month or year. Years need to be 4 digits, months must be given as a numeric value from 1...12.\",{parseAsInline:false});var parseTreeNodes=parser?parser.tree:[];this.CalendarCSS=thisCalendarCSS;this.makeChildWidgets(parseTreeNodes);this.innerHTML=\"Invalid month or year. Years need to be 4 digits, see readme for accepted month names.\";}else{var firstDate=new Date(thisYear,thisMonthNum-1,1);var startingDay=firstDate.getDay();var currentDate=1;calendarString=\"<table><tr><th>Sunday</th><th>Monday</th><th>Tuesday</th><th>Wednesday</th><th>Thursday</th><th>Friday</th><th>Saturday</th></tr>\";while(currentDate<=numDays){calendarString=calendarString+\"<tr>\";for(var i=0;i<7;i++){if(currentDate===1&&i<startingDay){calendarString=calendarString+\"<td></td>\";}else if(currentDate<=numDays){calendarString=calendarString+\"<td><$macrocall $name='\"+thisDayMacro+\"' day=\"+currentDate+\" month=\"+thisMonthNum+\" year=\"+thisYear+\"/></td>\";currentDate++;}if(currentDate>numDays&&i<6){calendarString=calendarString+\"<td></td>\";}}\ncalendarString=calendarString+\"</tr>\";}\ncalendarString=calendarString+\"</table>\";}\nvar stringPassed=calendarString;var parser=this.wiki.parseText(\"text/vnd.tiddlywiki\",calendarString,{parseAsInline:false});var parseTreeNodes=parser?parser.tree:[];this.CalendarCSS=thisCalendarCSS;this.makeChildWidgets(parseTreeNodes);};Calendar.prototype.refresh=function(changedTiddlers){var changedAttributes=this.computeAttributes();if(changedAttributes[\"month\"]||changedAttributes[\"year\"]||changedAttributes[\"day_macro\"]||changedAttributes[\"class\"]){this.refreshSelf();return true;}\nreturn this.refreshChildren(changedTiddlers);};exports[\"calendar-month\"]=Calendar;})();","tags":"$:/tags/pk","title":"$:/addon/cls/pk/calendar","modified":"20231225230609513","type":"application/javascript","module-type":"widget"},{"created":"20231224152024213","text":"[data-tags~=\"monthplan\"] #pkfieldsetid,\n[data-tags~=\"monthplan\"] #monthid\n{\n display: block !important;\n}\n\n.indent-list {\n    text-align: left !important;\n    padding-left: 2.6em  !important;;\n    text-indent: -2.6em !important;\n}\n\n.mkYearEdit {\n width:60px;\n border: 0px;\n}\n\n.pkcalendar {\n   overflow: hidden !important;\n   vertical-align: top !important;\n   border: 1px solid black !important;\n   width: 100% !important;\n}\n\n.pkcalendar table th {\n  padding-left: 2px !important;\n  padding-right: 2px !important;\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n  text-align: center !important;\n}\n\n.pkcalendar table {\n\twidth:100% !important;\n   font-size: .85rem !important;\n   border: 1px solid black !important;\n}\n\n.pkcalendar table td, .pkcalendar table th {\n  max-width: 60px !important;\n  width: 60px !important;\n  vertical-align: top  !important;\n  border: 1px solid gray !important;\n}\n\n.pkcalendar table td {\n    height: 60px !important;\n    max-width: 60px !important;\n    width: 60px !important;\n    vertical-align: top !important;\n}\n\n.strike {\n  text-decoration: line-through;\n}","tags":"$:/tags/pk $:/tags/Stylesheet","title":"$:/addon/cls/pk/css","modified":"20240208134002996"},{"created":"20240122151037097","text":"<tr><td style=\"max-width:40px !important; text-align:center; vertical-align:middle;\"><span class=icon16><$link to=<<currentTiddler>>><<showicon>></$link></span></td><td><$list filter=\"[is[current]tag[done]]\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list> <$link to=<<currentTiddler>>><$view field='title'/></$link></td><td>{{!!description}}</td><td style=\"min-width:110px\"><$view field=\"modified\" format=\"date\" template=\"YYYY-0MM-0DD 0hh:0mm\"/></td></tr>","tags":"$:/tags/mk $:/tags/pk","title":"$:/addon/cls/pk/pagination/template/foldercontent","modified":"20240122151827878","plural":"content&nbsp;entries","label":"content&nbsp;entry","countPerDetail":"{{$:/config/References/searchstrings!!note-max}}","header":"<table class=cls style='width:100%'><tr><th style='width:40px !important;'></th><th>Title</th><th>Description</th><th  style='width:100px !important;'>Modified</th></tr>","footer":"</table>"},{"created":"20231230204137849","text":"<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"entry\" $value=<<now YYYY-MM-DD>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"selecteddate\" $value=<<now YYYY-0MM-0DD>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"year\" $value=<<now YYYY>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"month\" $value=<<now MM>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"week\" $value=<<now WW>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"day\" $value=<<now DD>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"theday\" $value=<<now DD>> />\n<$action-setfield $tiddler=\"$:/temp/planner\" $field=\"mode\" $value=\"daily\" />","tags":"$:/tags/StartupAction/Browser $:/tags/pk","title":"$:/addon/cls/pk/startup","modified":"20240202234534360"},{"created":"20230119023659129","text":"<<shownotetab \"knowledge\">>","tags":"$:/tags/mk/note $:/tags/pk","title":"$:/addon/cls/pk/tab/knowledge","modified":"20230814191633230","caption":"Knowledge","tmap.id":"5fd37411-36a9-40f6-87cf-8d45d07c6962","tagg":"knowledge"},{"created":"20210813204917931","text":"(function(){\"use strict\";exports.parsedate=function(source,operator,options){var format=operator.operand||\"[UTC]YYYY0MM0DD0hh0mm0ss0XXX\",dt,results=[];source(function(tiddler,title){if(title.match(/^-?\\d+$/))dt=((operator.suffix==\"unixtime\")||(operator.suffix==\"number\"))?new Date(Number(title)):$tw.utils.parseDate(title);else dt=new Date(title.replace(/(\\d+)(st|nd|rd|th)/g,\"$1\").replace(/,/g,\"\"));if(format==\"unixtime\")results.push(dt.getTime().toString());else if(format==\"number\")results.push(dt.getTime().toString());else results.push($tw.utils.formatDateString(dt,format));});return results;};exports.unixtime=function(source,operator,options){var format=operator.operand||\"\",dt,results=[];source(function(tiddler,title){if(title.match(/^-?\\d+$/))dt=new Date(Number(title));else dt=new Date(title.replace(/(\\d+)(st|nd|rd|th)/g,\"$1\").replace(/,/g,\"\"));if(format==\"\")results.push(dt.getTime().toString());else results.push($tw.utils.formatDateString(dt,format));});return results;};})();","title":"$:/addon/TiddlyTools/Time/ParseDate","type":"application/javascript","modified":"20231227195607827","module-type":"filteroperator","tags":"$:/tags/pk","tmap.id":"c334a63e-1721-4c6a-9932-de0a22646922"},{"created":"20230727133119716","text":"journal","tags":"$:/tags/mk/events $:/tags/pk","title":"$:/config/cls/pk/custom/events","modified":"20230814191551527"},{"created":"20230121035545024","text":"knowledge","tags":"$:/tags/mk/notes $:/tags/pk","title":"$:/config/cls/pk/custom/notes","modified":"20230814191603446"},{"created":"20230727133837844","text":"{{||$:/plugins/cls/mk/eventtemplate}}","tags":"Events $:/tags/pk","title":"Journal Entries","modified":"20230810120010704","countlabel":"journal entries","tagg":"journal","tmap.id":"16e9a5ad-ce41-4e70-922b-1a82f231ce10","page":"1","sortorder":"!sort[title]"},{"created":"20230119022252873","text":"<<showcustomnote \"knowledge\">>","tags":"Notes $:/tags/pk","title":"Knowledge","modified":"20230728124512959","tmap.id":"bec3cd72-413d-4210-bc50-05f4f6cb81ee"},{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December","created":"20231225175830043","text":"\\define daybutton(zday zmonth year, day, month)\n<$button class='tc-btn-invisible' style='width:100%;height:100%'>\n<$action-setfield $tiddler=\"$:/temp/planner\" selecteddate=\"$year$-$zmonth$-$zday$\" />\n<$action-setfield $tiddler=\"$:/temp/planner\" entry=\"$year$-$month$-$day$\" />\n<$action-setfield $tiddler=\"$:/temp/planner\" theday=\"$day$\" />\n<$action-setfield $tiddler=\"$:/temp/planner\" week={{{[[$year$-$zmonth$-$zday$ 00:00:00]parsedate[]format:date[WW]]}}} />\n<div style='height:100%;width:100%;position:relative;text-align:left;vertical-align:top;z-index=0'>\n<$reveal text={{$:/temp/planner!!entry}} default=\"$year$-$month$-$day$\" type=match><span style=\"font-size:14pt\">''$day$''</span></$reveal>\n<$reveal text={{$:/temp/planner!!entry}} default=\"$year$-$month$-$day$\" type=nomatch>$day$</$reveal>\n<$set name=thecount filter=\"[all[tiddlers]!is[system]search:due[$year$$zmonth$$zday$]count[]]\"><$reveal text=<<thecount>> default=\"0\" type=nomatch><span style=\"float:right\">{{$:/plugins/nico/projectify/images/calendar}}</span></$reveal></$set><br>\n</div></$button>\n\\end\n\n\\define SelectedCalendar-pro(day month year)\n<$set name=zmonth filter=\"[[$month$]compare:integer:lt[10]then[0$month$]else[$month$]]\">\n<$set name=zday filter=\"[[$day$]compare:integer:lt[10]then[0$day$]else[$day$]]\">\n<$macrocall $name=daybutton zday=<<zday>> zmonth=<<zmonth>> year=\"$year$\" day=\"$day$\" month=\"$month$\" />\n</$set></$set>\n\\end\n\n\n\\define showmonthname(field)\n<$list filter=\"[get[$field$]]\">{{!!title}}</$list>\n\\end\n\n\\define select-actions()\n<$action-deletefield $field=\"entry\" /><$action-deletefield $field=\"selecteddate\" />\n\\end\n\n\\define showmonthappt(year, month)\n<$list filter=\"[tag[todo]sort[due]] :filter[get[due]format:date[YYYY-MM]match[$year$-$month$]]\" emptyMessage=\"no appointments<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><span class={{{ [all[current]tag[cancelled]then[strike]else[]] }}}><$list filter=\"[is[current]tag[todo]]\"><span class={{{ [[tc-btn-invisible py-priority-]addsuffix{!!priority}] }}}>{{$:/plugins/nico/projectify/images/flag}}</span></$list><$link to={{!!title}}>{{!!title}}</$link> ''due: <$view field=due format=date template=\"DDth mmm YYYY\" />''<br/></span></div></$list>\n\\end\n\n\\define showappt(day)\n<$list filter=\"[tag[todo]sort[due]] :filter[get[due]format:date[YYYY-0MM-0DD]match[$day$]]\" emptyMessage=\"no appointments<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><span class={{{ [all[current]tag[cancelled]then[strike]else[]] }}}><$list filter=\"[is[current]tag[todo]]\"><span class={{{ [[tc-btn-invisible py-priority-]addsuffix{!!priority}] }}}>{{$:/plugins/nico/projectify/images/flag}}</span></$list><$link to={{!!title}}>{{!!title}}</$link> ''due: <$view field=due format=date template=\"DDth mmm YYYY\" />''<br/></span></div></$list>\n\\end\n\n\\define showweekappt(year, week)\n<$list filter=\"[tag[todo]sort[due]] :filter[get[due]format:date[YYYYWW]match[$year$$week$]]\" emptyMessage=\"no appointments<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><span class={{{ [all[current]tag[cancelled]then[strike]else[]] }}}><$list filter=\"[is[current]tag[todo]]\"><span class={{{ [[tc-btn-invisible py-priority-]addsuffix{!!priority}] }}}>{{$:/plugins/nico/projectify/images/flag}}</span></$list><$link to={{!!title}}>{{!!title}}</$link> ''due: <$view field=due format=date template=\"DDth mmm YYYY\" />''<br/></span></div></$list>\n\\end\n\n\\define showevent(day)\n<$list filter=\"[tag[event]sort[date]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYY-0MM-0DD]match[$day$]]\" emptyMessage=\"no events<br/>\"><$link to={{!!title}}>{{!!title}}</$link><br/></$list>\n\n<<showattentionnotes \"[has[postnote]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYY-0MM-0DD]match[$day$]] [has[postnote]] :filter[get[due]format:date[YYYY-0MM-0DD]match[$day$]]\">>\n\\end\n\n\\define showweekevent(year, week)\n<$list filter=\"[tag[event]has[date]sort[date]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYYWW]compare:integer[$year$$week$]]\" emptyMessage=\"no events<br/>\"><div class=\"indent-list\"><$link to={{!!title}}>{{!!title}}</$link><br/></div></$list>\n\n<<showattentionnotes \"[has[postnote]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYYWW]match[$year$$week$]] \n[has[postnote]] :filter[get[due]format:date[YYYYWW]match[$year$$week$]]\">>\n\\end\n\n\\define showmonthevent(year, month)\n<$list filter=\"[tag[event]sort[date]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYYMM]compare:integer[$year$$month$]]\" emptyMessage=\"no events<br/>\"><div class=\"indent-list\"><$link to={{!!title}}>{{!!title}}</$link><br/></div></$list>\n\n<<showattentionnotes \"[has[postnote]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYYMM]match[$year$$month$]] [has[postnote]] :filter[get[due]format:date[YYYY-MM]match[$year$-$month$]]\">>\n\\end\n\n\\define showoverdue()\n<$list filter=\"[tag[todo]!tag[done]!tag[cancelled]sort[due]!days:due[-1]]\" emptyMessage=\"no overdue tasks<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><span class={{{ [all[current]tag[cancelled]then[strike]else[]] }}}><$list filter=\"[is[current]tag[todo]]\"><span class={{{ [[tc-btn-invisible py-priority-]addsuffix{!!priority}] }}}>{{$:/plugins/nico/projectify/images/flag}}</span></$list><$link to={{!!title}}>{{!!title}}</$link> ''due: <$view field=due format=date template=\"DDth mmm YYYY\" />''<br/></span></div></$list>\n\\end\n\n\n\\define showmonthreminder(year, month)\n<$list filter=\"[has[postnote]search:attentionnote[yes]!sort[modified]] :filter[get[date]parsedate[]addsuffix[ 00:00:00]format:date[YYYYMM]compare:integer[$year$$month$]]\" emptyMessage=\"no reminders<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><$link to={{!!title}}>{{!!title}}</$link> due: <$view field=due format=date template=\"DDth mmm YYYY\" /><br/></div></$list>\n\\end\n\n\\define showreminder(day)\n<$list filter=\"[has[postnote]search:attentionnote[yes]!sort[modified]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYY-0MM-0DD]compare:integer[$day$]]\" emptyMessage=\"no reminders<br/>\"><div class=\"indent-list\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><$link to={{!!title}}>{{!!title}}</$link> due: <$view field=due format=date template=\"DDth mmm YYYY\" /><br/></div></$list>\n\\end\n\n\\define showweekreminder(year, week)\n<$list filter=\"[has[postnote]search:attentionnote[yes]!sort[modified]] :filter[get[date]addsuffix[ 00:00:00]parsedate[]format:date[YYYYWW]compare:integer[$year$$week$]]\" emptyMessage=\"no reminders<br/>\"><$list filter=\"[is[current]tag[done]]\" emptyMessage=\"<span class='searchicon'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\"><span class=\"searchicon\" title=\"task complete\"><$transclude tiddler=\"checkmark.png\" /></span></$list><$link to={{!!title}}>{{!!title}}</$link> due: <$view field=due format=date template=\"DDth mmm YYYY\" /><br/></$list>\n\\end\n\n\\define showmod(year, month, day, week)\n<$set name=zmonth filter=\"[[$month$]compare:integer:lt[10]then[0$month$]else[$month$]]\">\n<$set name=zday filter=\"[[$day$]compare:integer:lt[10]then[0$day$]else[$day$]]\">\n<$set name=yday filter=\"[<zday>compare:integer:eq[0]then[]else<zday>]\">\n<$macrocall $name=showmods year={{$:/temp/planner!!year}} month=<<zmonth>> day=<<yday>> week=\"$week$\" />\n</$set></$set></$set>\n\\end\n\n\\define showmods(year, month, day, week)\n<$reveal text=\"$week$\" default=\"\" type=nomatch>\n<$macrocall $name=pagination-pro filter=\"[all[tiddlers]!is[system]!tag[$:/tags/mk]!search:tags[$:/tags]] :filter[{!!modified}else[]format:date[YYYYWW]match[$year$$week$]] +[!sort[modified]]\" template=\"$:/plugins/cls/mk/pagination/template/generic\" countPerDetail={{$:/config/References/searchstrings!!note-max}} smooth={{$:/config/References/searchstrings!!pagination-smooth}} label=\"modified&nbsp;entry\" plural=\"modified&nbsp;entries\" top={{$:/config/References/searchstrings!!pagination-top}} />\n</$reveal>\n\n<$reveal text=\"$week$\" default=\"\" type=match>\n<$reveal text=\"$day$\" default=\"\" type=nomatch>\n<$vars dat={{{[<now $year$$month$$day$>]}}}>\n<$macrocall $name=pagination-pro filter=\"[all[tiddlers]!is[system]!tag[$:/tags/mk]!search:tags[$:/tags]] :filter[{!!modified}else[]format:date[YYYY0MM0DD]match<dat>] +[!sort[modified]]\" template=\"$:/plugins/cls/mk/pagination/template/generic\" countPerDetail={{$:/config/References/searchstrings!!note-max}} smooth={{$:/config/References/searchstrings!!pagination-smooth}} label=\"modified&nbsp;entry\" plural=\"modified&nbsp;entries\" top={{$:/config/References/searchstrings!!pagination-top}} />\n</$vars></$reveal>\n<$reveal text=\"$day$\" default=\"\" type=match>\n<$vars dat={{{[<now $year$$month$>]}}}>\n<$macrocall $name=pagination-pro filter=\"[all[tiddlers]!is[system]!tag[$:/tags/mk]!search:tags[$:/tags]] :filter[{!!modified}else[]format:date[YYYY0MM]match<dat>] +[!sort[modified]]\" template=\"$:/plugins/cls/mk/pagination/template/generic\" countPerDetail={{$:/config/References/searchstrings!!note-max}} smooth={{$:/config/References/searchstrings!!pagination-smooth}} label=\"modified&nbsp;entry\" plural=\"modified&nbsp;entries\" top={{$:/config/References/searchstrings!!pagination-top}} />\n</$vars></$reveal></$reveal>\n\\end\n\n<div class=\"planner\">\n<div style=\"float:right; opacity: .25; font-size:34px; font-family:'Lucida Handwriting', cursive\">''<$macrocall $name=showmonthname field={{$:/temp/planner!!month}} />''<br/><span style=\"float:right; font-size:24px; font-family:'Lucida Handwriting', cursive\">//{{$:/temp/planner!!year}}//</span></div><br/><br/><br/><br/>\n\n<$macrocall $name=radio-option-control list=\"Daily Weekly Monthly\" listvalue=\"daily weekly monthly\" tiddler=\"$:/temp/planner\" field=\"mode\" />\n<div class=\"events\">\n<div class=\"planner-calendar\">\n<br/>\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button><$action-sendmessage $message=\"tm-new-tiddler\" title=\"YYYY-MM-DD - New appointment\" tags=\"appointment Inbox todo\" />{{$:/core/images/new-button}} appointment</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button><$action-sendmessage $message=\"tm-new-tiddler\" title=\"YYYY-MM-DD - New task\" tags=\"Inbox todo\" />{{$:/core/images/new-button}} task</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button tooltip=\"new event\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"YYYY-MM-DD - New event\" tags=\"event\" />{{$:/core/images/new-button}} event</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button tooltip=\"new place\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"New place\" tags=\"place\" />{{$:/core/images/new-button}} place</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button tooltip=\"new source\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"New Source\" tags=\"source\" />{{$:/core/images/new-button}} source</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button tooltip=\"new journal event\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"YYYY-MM-DD - Research - New journal event\" tags=\"event journal\" />{{$:/core/images/new-button}} journal</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px; padding-right: 5px;\"><$button tooltip=\"new research journal event\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"YYYY-MM-DD - Research - New journal event\" tags=\"event research\" />{{$:/core/images/new-button}} research</$button></div>\n\n<div class=events style=\"float:left; padding-top:5px; padding-bottom:10px padding-right: 5px;\"><$button tooltip=\"new note\"><$action-sendmessage $message=\"tm-new-tiddler\" title=\"New note\" tags=\"note\" />{{$:/core/images/new-button}} note</$button></div><br/><br/>\n\n<div style=\"float:right; padding-bottom:10px;\">\n<$button>{{$:/images/fa5/solid/caret-square-left}}<$action-setfield $tiddler=\"$:/temp/planner\" year={{{[[$:/temp/planner]get[year]subtract[1]]}}} /></$button>\n<span style=\"width:60px\"><$edit-text class=\"tw-edit-texteditor mkYearEdit\" tiddler=\"$:/temp/planner\" tag=\"input\" field=\"year\" /></span>\n<$button>{{$:/images/fa5/solid/caret-square-right}}<$action-setfield $tiddler=\"$:/temp/planner\" year={{{[[$:/temp/planner]get[year]add[1]]}}} /></$button>\n</div><br/>\n\n<$macrocall $name=radio-option-control list=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\" listvalue=\"1 2 3 4 5 6 7 8 9 10 11 12\" tiddler=\"$:/temp/planner\" field=\"month\" css=\"flex: 1 !important; box-sizing: border-box !important;\" />\n\n<$calendar-month year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} day_macro=\"SelectedCalendar-pro\" class=\"pkcalendar\" />\n</div>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"monthly\" type=match><div class=\"events\"><span style=\"font-size: 30px\"><$macrocall $name=showmonthname field={{$:/temp/planner!!month}} />, {{$:/temp/planner!!year}}</span><br/><br/><br>\n''<span style=\"font-size: 15px\">Appointments and tasks:</span>''<br/>\n<$macrocall $name=showmonthappt year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} />\n<br/><span style=\"font-size: 15px\">''Overdue:''</span><br/>\n<$macrocall $name=showoverdue />\n<br/><span style=\"font-size: 15px\">''Reminders:''</span><br/>\n<$macrocall $name=showmonthreminder year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} />\n<br/><span style=\"font-size: 15px\">''Events:''</span><br/>\n<$macrocall $name=showmonthevent year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} />\n</div></$reveal>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"weekly\" type=match><$reveal text={{$:/temp/planner!!entry}} default=\"\" type=nomatch><div class=\"events\">\n<span style=\"font-size: 30px\">{{$:/temp/planner!!year}} - Week {{$:/temp/planner!!week}}</span><br/>\n<br/><br>\n''<span style=\"font-size: 14px\">Appointments and tasks:</span>''<br/>\n<$macrocall $name=showweekappt year={{$:/temp/planner!!year}} week={{$:/temp/planner!!week}} />\n<br/><span style=\"font-size: 15px\">''Overdue:''</span><br/>\n<$macrocall $name=showoverdue />\n<br/><span style=\"font-size: 14px\">''Reminders:''</span><br/>\n<$macrocall $name=showweekreminder year={{$:/temp/planner!!year}} week={{$:/temp/planner!!week}} />\n<br/><span style=\"font-size: 14px\">''Events:''</span><br/>\n<$macrocall $name=showweekevent year={{$:/temp/planner!!year}} week={{$:/temp/planner!!week}} />\n</div></$reveal></$reveal>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"daily\" type=match><div class=\"events\"><$reveal text={{$:/temp/planner!!entry}} default=\"\" type=match>Select a day on the calendar.</$reveal><$reveal text={{$:/temp/planner!!entry}} default=\"\" type=nomatch><span style=\"font-size: 30px\">{{$:/temp/planner!!selecteddate}}</span></$reveal><br/>\n<br/><br>\n''<span style=\"font-size: 14px\">Appointments and tasks:</span>''<br/>\n<$macrocall $name=showappt day={{$:/temp/planner!!selecteddate}} />\n<br/><span style=\"font-size: 15px\">''Overdue:''</span><br/>\n<$macrocall $name=showoverdue />\n<br/><span style=\"font-size: 14px\">''Reminders:''</span><br/>\n<$macrocall $name=showreminder day={{$:/temp/planner!!selecteddate}} />\n<br/><span style=\"font-size: 14px\">''Events:''</span><br/>\n<$macrocall $name=showevent day={{$:/temp/planner!!selecteddate}} />\n</div></$reveal></div>\n\n<div style=\"display:block; clear:both !important; page-break-after:always;\"></div>\n<$reveal state=\"$:/state/inbox\" type=match text=show>{{$:/plugins/nico/projectify/ui/inbox/Inbox}}</$reveal>\n<span style=\"float:right; font-size:12px;\"><$reveal text=\"show\" default={{$:/state/inbox}} type=nomatch><$button set=\"$:/state/inbox\" setTo=\"show\" tooltip=\"show inbox\">{{$:/core/images/unfold-button}}</$button></$reveal><$reveal text=\"show\" default={{$:/state/inbox}} type=match><$button set=\"$:/state/inbox\" setTo=\"\" tooltip=\"hide inbox\">{{$:/core/images/unfold-button}}</$button></$reveal></span><br/>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"monthly\" type=match>\n<$macrocall $name=showmod year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} day=\"\" />\n</$reveal>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"weekly\" type=match>\n<$macrocall $name=showmod year={{$:/temp/planner!!year}} month=\"\" day=\"\" week={{$:/temp/planner!!week}} />\n</$reveal>\n\n<$reveal text={{$:/temp/planner!!mode}} default=\"daily\" type=match><$reveal text={{$:/temp/planner!!entry}} default=\"\" type=nomatch>\n<$macrocall $name=showmod year={{$:/temp/planner!!year}} month={{$:/temp/planner!!month}} day={{$:/temp/planner!!theday}} />\n</$reveal></$reveal>\n</div>","tags":"Research $:/tags/pk","title":"Planner","modified":"20240212123915295","tmap.id":"49662d4a-93c5-4152-965d-97e8ccf308a0"}]